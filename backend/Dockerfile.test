# 測試容器 Dockerfile
FROM node:22-alpine

WORKDIR /app

# 複製 package files
COPY package*.json ./

# 安裝依賴
RUN npm install

# 複製所有程式碼（包含 tests 目錄）
COPY . .

# 預設執行測試資料生成
CMD ["npx", "ts-node", "tests/setup-test-data.ts"]
